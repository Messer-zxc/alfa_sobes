# alfa_sobes
Учебный проект для собеседования
Сорокин Никита
Дата создания: 03.11.25 - 29.11.25
!Проект написан и протестирован на MS SQL Server Managment Studio 21!

----------------------ОБЩАЯ ИНФОРМАЦИЯ----------------------------------------------
Разработана база данных для системы обработки инцидентов в банке с отслеживанием SLA
и историей изменений статусов.

Структуру БД можно изучить открыв визуализацию в формате картинки (файл "Схема.png").
(chartdb.io не дает расшарить схему без премиума)

Всего в структуре БД 7 таблиц:
1. Clients - Клиенты банка (100 записей)
2. Products - Банковские продукты (13 типов)
3. Client_products - Связь клиентов и продуктов (~200 записей)
4. Specialists - Сотрудники поддержки (30 человек)
5. Categories - Категории инцидентов с иерархией (16 категорий)
6. Incidents - Обращения клиентов (500 инцидентов)
7. Incident_history - История обработки (~800 записей)
Количество записей в каждой таблице, можно регулировать.
Существует иерархическая система (родительская и дочерняя категории через самосвязь в Categories), связи по 
вторичным ключам.

Сделано 4 представления, используемые в дальнейшем для запросов и не только:
1. v_incident_details - Полная информация об инциденте 
2. v_specialists_stats - Производительность специалистов
3. v_client_profile - Данные по клиенту 
4. v_category_metrics - Метрики и нарушения SLA 

В виде пробы написана одна хранимая процедура:
sp_create_incident - Создание инцидента через транзакцию

А так же 12 запросов различной сложности.

P.S. Всё обильно комментировал, так как была возможность заниматься проектом только на выходных.
Надеюсь, это облегчит Вам чтение кода, как и облегчило мне его написание.

----------------------------ФАЙЛЫ ПРОЕКТА------------------------------------------
ОСНОВНОЙ ФАЙЛ - SETUP_ALL.sql (Запуск создает БД, таблицы, генерирует данные, представления и процедуру)

ОТДЕЛЬНЫЕ ФАЙЛЫ:
1. СОЗДАНИЕ_ТАБЛИЦ.sql       Структура базы данных
2. ГЕНЕРАЦИЯ_ДАННЫХ.sql      Заполнение тестовыми данными через псевдо-рандом
3. ПРЕДСТАВЛЕНИЯ.sql         Создание представлений
4. ПРОЦЕДУРА.sql             Хранимая процедура для добавления инцидента + код для проверки транзакции (раскомментить код)
5. ЗАПРОСЫ.sql               12 запросов
6. Схема.png                 Визуализация структуры базы данных


-----------------------ЗАПУСК ПРОЕКТА----------------------------------------------
1. Запустить "SETUP_ALL.sql".

В целом, после этого есть возможность изучить каждый блок отдельно в соответствующем файле.



